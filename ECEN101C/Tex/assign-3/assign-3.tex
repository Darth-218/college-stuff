\documentclass[a4paper]{report}
\usepackage{circuitikz}
\usepackage{amssymb}
\usepackage{amsmath}
\ctikzset{bipoles/length=0.98cm}

\begin{document}

\section{Problem 1}

\noindent a) Use the node-voltage method to find $i_1$, $i_2$ and $i_3$.

\noindent b) Find if the power dissipated in the circuit equals the power developed.

\begin{center}
	 
\begin{circuitikz} \draw

  (0, 0) to[american voltage source, l=30V] (0, 2)
  (0, 2) to[R=5k$\Omega$, -o] (2, 2)
  (2, 2) to[R=500$\Omega$, -o] (2, 0)
  (2, 2) to[american current source, o-o, l=10mA] (4, 2)
  (4, 2) to[R=4k$\Omega$, -o] (4, 0)
  (2, 2) to[short] (2, 4)
  (2, 4) to[R=1k$\Omega$] (6, 4)
  (6, 4) to[short, -o] (6, 2)
  (6, 2) to[short] (4, 2)
  (6, 2) to[american voltage source, l=80V] (6, 0)
  (6, 0) to[short] (0, 0)
  (1.8, 2) node[anchor=north, label={$v_1$}] {}
  (4, 2) node[anchor=north, label={$v_2$}] {}
  (6, 2) node[label={right:$v_3$}] {}
  (3, 0) node[ground] {}
  (0, 2) to[short, i=$i_1$] (0.5, 2)
  (2, 0.5) to[short, i=$i_2$] (2, 0.25)
  (6, 0.5) to[short, i=$i_3$] (6, 0.25)
  ;

\end{circuitikz}

\end{center}

a)

\[v_3 = 80V\]

At $v_1$:
\[-10 \times 10^{-3} = \frac{v_1 - (-30)}{5000} + \frac{v_1 - 0}{500} + \frac{v_1 - 80}{1000}\]
\[\rightarrow v_1 = 20V\]
\[\therefore i_1 = \frac{v_1 - (-30)}{5000} = \frac{20 - (-30)}{5000} = 0.01A\]

At $v_2$:
\[10 \times 10^{-3} = \frac{v_2 - 0}{4000}\]
\[\rightarrow v_2 = 40V\]
\[\therefore i_2 = \frac{v_2 - 0}{4000} = \frac{40}{4000} = 0.01A\]

\end{document}
